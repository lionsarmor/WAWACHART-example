{"remainingRequest":"/home/roddy/Desktop/WEB-APPS/realtimecharts-client/node_modules/babel-loader/lib/index.js!/home/roddy/Desktop/WEB-APPS/realtimecharts-client/node_modules/eslint-loader/index.js??ref--13-0!/home/roddy/Desktop/WEB-APPS/realtimecharts-client/src/store/modules/authentication.js","dependencies":[{"path":"/home/roddy/Desktop/WEB-APPS/realtimecharts-client/src/store/modules/authentication.js","mtime":1602351555262},{"path":"/home/roddy/Desktop/WEB-APPS/realtimecharts-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/roddy/Desktop/WEB-APPS/realtimecharts-client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/roddy/Desktop/WEB-APPS/realtimecharts-client/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _defineProperty from \"/home/roddy/Desktop/WEB-APPS/realtimecharts-client/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/roddy/Desktop/WEB-APPS/realtimecharts-client/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n\nvar _actions, _mutations;\n\nimport { VUEX_POST_USER_LOGIN_REQUEST, VUEX_POST_USER_LOGIN_REQUEST_SUCCESS, VUEX_POST_USER_LOGIN_REQUEST_FAILURE, VUEX_POST_USER_LOGOUT, VUEX_SET_USER_AUTHENTICATED, VUEX_POST_USER_REGISTER_REQUEST, VUEX_POST_USER_REGISTER_REQUEST_SUCCESS, VUEX_POST_USER_REGISTER_REQUEST_FAILURE } from '@/store/constants/authentication';\nimport { VUEX_PAGE_NAME } from '@/store/constants/ui';\nimport AuthenticationService from '@/api/AuthenticationService';\nimport { router } from \"../../main\";\nvar state = {\n  username: null,\n  userId: null,\n  authenticated: true\n};\nvar getters = {};\nvar actions = (_actions = {}, _defineProperty(_actions, VUEX_POST_USER_LOGIN_REQUEST, function () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee(_ref, payload) {\n    var commit;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            commit = _ref.commit;\n            _context.prev = 1;\n            _context.next = 4;\n            return AuthenticationService.Login(payload.username, payload.password).then(function (payload) {\n              commit(VUEX_POST_USER_LOGIN_REQUEST_SUCCESS, payload);\n              commit(VUEX_PAGE_NAME, 'Liquidation Options');\n              router.push('/liquidations');\n            });\n\n          case 4:\n            _context.next = 9;\n            break;\n\n          case 6:\n            _context.prev = 6;\n            _context.t0 = _context[\"catch\"](1);\n            commit(VUEX_POST_USER_LOGIN_REQUEST_FAILURE, _context.t0);\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[1, 6]]);\n  }));\n\n  return function (_x, _x2) {\n    return _ref2.apply(this, arguments);\n  };\n}()), _defineProperty(_actions, VUEX_POST_USER_LOGOUT, function () {\n  var _ref4 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee2(_ref3) {\n    var commit;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            commit = _ref3.commit;\n            commit(VUEX_POST_USER_LOGOUT);\n            router.push('/login');\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function (_x3) {\n    return _ref4.apply(this, arguments);\n  };\n}()), _defineProperty(_actions, VUEX_SET_USER_AUTHENTICATED, function () {\n  var _ref6 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee3(_ref5, payload) {\n    var commit;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            commit = _ref5.commit;\n            commit(VUEX_SET_USER_AUTHENTICATED, payload);\n\n          case 2:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function (_x4, _x5) {\n    return _ref6.apply(this, arguments);\n  };\n}()), _defineProperty(_actions, VUEX_POST_USER_REGISTER_REQUEST, function () {\n  var _ref8 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee4(_ref7, payload) {\n    var commit;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            commit = _ref7.commit;\n            _context4.prev = 1;\n            _context4.next = 4;\n            return AuthenticationService.Register(payload.username, payload.password, payload.regToken).then(function (payload) {\n              if ('error' in payload) {\n                throw payload.error;\n              }\n\n              commit(VUEX_POST_USER_REGISTER_REQUEST_SUCCESS, payload);\n              router.push('/login');\n            });\n\n          case 4:\n            _context4.next = 9;\n            break;\n\n          case 6:\n            _context4.prev = 6;\n            _context4.t0 = _context4[\"catch\"](1);\n            commit(VUEX_POST_USER_REGISTER_REQUEST_FAILURE, _context4.t0);\n\n          case 9:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4, null, [[1, 6]]);\n  }));\n\n  return function (_x6, _x7) {\n    return _ref8.apply(this, arguments);\n  };\n}()), _actions);\nvar mutations = (_mutations = {}, _defineProperty(_mutations, VUEX_POST_USER_LOGIN_REQUEST_SUCCESS, function (state, payload) {\n  state.userId = payload.user._id;\n  state.username = payload.user.username;\n  localStorage.setItem('token', payload.token);\n  localStorage.setItem('user', JSON.stringify(payload.user));\n}), _defineProperty(_mutations, VUEX_POST_USER_LOGIN_REQUEST_FAILURE, function (state, payload) {\n  alert(payload);\n  state.error = payload;\n  state.authenticated = false;\n}), _defineProperty(_mutations, VUEX_POST_USER_LOGOUT, function (state) {\n  state.userId = null;\n  state.username = null;\n  localStorage.removeItem('token');\n  state.authenticated = false;\n}), _defineProperty(_mutations, VUEX_SET_USER_AUTHENTICATED, function (state, payload) {\n  state.authenticated = payload;\n}), _defineProperty(_mutations, VUEX_POST_USER_REGISTER_REQUEST_SUCCESS, function (state, payload) {\n  return;\n}), _defineProperty(_mutations, VUEX_POST_USER_REGISTER_REQUEST_FAILURE, function (state, payload) {\n  alert(payload);\n}), _mutations);\nexport default {\n  state: state,\n  getters: getters,\n  actions: actions,\n  mutations: mutations\n};",{"version":3,"sources":["/home/roddy/Desktop/WEB-APPS/realtimecharts-client/src/store/modules/authentication.js"],"names":["VUEX_POST_USER_LOGIN_REQUEST","VUEX_POST_USER_LOGIN_REQUEST_SUCCESS","VUEX_POST_USER_LOGIN_REQUEST_FAILURE","VUEX_POST_USER_LOGOUT","VUEX_SET_USER_AUTHENTICATED","VUEX_POST_USER_REGISTER_REQUEST","VUEX_POST_USER_REGISTER_REQUEST_SUCCESS","VUEX_POST_USER_REGISTER_REQUEST_FAILURE","VUEX_PAGE_NAME","AuthenticationService","router","state","username","userId","authenticated","getters","actions","payload","commit","Login","password","then","push","Register","regToken","error","mutations","user","_id","localStorage","setItem","token","JSON","stringify","alert","removeItem"],"mappings":"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","sourcesContent":["import {\n    VUEX_POST_USER_LOGIN_REQUEST,\n    VUEX_POST_USER_LOGIN_REQUEST_SUCCESS,\n    VUEX_POST_USER_LOGIN_REQUEST_FAILURE,\n    VUEX_POST_USER_LOGOUT,\n    VUEX_SET_USER_AUTHENTICATED,\n    VUEX_POST_USER_REGISTER_REQUEST,\n    VUEX_POST_USER_REGISTER_REQUEST_SUCCESS,\n    VUEX_POST_USER_REGISTER_REQUEST_FAILURE,\n} from '@/store/constants/authentication'\n\nimport {\n    VUEX_PAGE_NAME,\n} from '@/store/constants/ui'\n\nimport AuthenticationService from '@/api/AuthenticationService'\nimport { router } from \"../../main\"\n\nconst state = {\n    username: null,\n    userId: null,\n    authenticated: true\n}\n\nconst getters = {\n\n}\n\nconst actions = {\n\n    [VUEX_POST_USER_LOGIN_REQUEST]: async ({ commit }, payload) => {\n        try {\n            await AuthenticationService.Login(payload.username, payload.password).then( payload => {\n                commit(VUEX_POST_USER_LOGIN_REQUEST_SUCCESS, payload)\n                commit(VUEX_PAGE_NAME, 'Liquidation Options')\n                router.push('/liquidations')\n            })\n            } catch(err) {\n                commit(VUEX_POST_USER_LOGIN_REQUEST_FAILURE, err)\n          }\n    },\n\n    [VUEX_POST_USER_LOGOUT]: async({ commit }) => {\n        commit(VUEX_POST_USER_LOGOUT)\n        router.push('/login')\n    },\n\n    [VUEX_SET_USER_AUTHENTICATED]: async({ commit }, payload) => {\n        commit(VUEX_SET_USER_AUTHENTICATED, payload)\n    },\n\n    [VUEX_POST_USER_REGISTER_REQUEST]: async({ commit }, payload) => {\n        try {\n            await AuthenticationService.Register(payload.username, payload.password, payload.regToken).then(payload => {\n                if ('error' in payload) {\n                    throw payload.error\n                } \n                commit(VUEX_POST_USER_REGISTER_REQUEST_SUCCESS, payload)\n                router.push('/login')\n            })\n        } catch (err) {\n            commit(VUEX_POST_USER_REGISTER_REQUEST_FAILURE, err)\n        }\n\n    }\n\n}\n\nconst mutations = {\n\n    [VUEX_POST_USER_LOGIN_REQUEST_SUCCESS]: (state, payload) => {\n        state.userId = payload.user._id\n        state.username = payload.user.username\n        localStorage.setItem('token', payload.token)\n        localStorage.setItem('user', JSON.stringify(payload.user))\n    },\n\n    [VUEX_POST_USER_LOGIN_REQUEST_FAILURE]: (state, payload) => {\n        alert(payload)\n        state.error = payload\n        state.authenticated = false\n    },\n\n    [VUEX_POST_USER_LOGOUT]: (state) => {\n        state.userId = null\n        state.username = null\n        localStorage.removeItem('token')\n        state.authenticated = false\n    },\n\n    [VUEX_SET_USER_AUTHENTICATED]: (state, payload) => {\n        state.authenticated = payload\n    },\n\n    [VUEX_POST_USER_REGISTER_REQUEST_SUCCESS]: (state, payload) => {\n        return\n    },\n\n    [VUEX_POST_USER_REGISTER_REQUEST_FAILURE]: (state, payload) => {\n        alert(payload)\n    }\n}\n\nexport default {\n    state,\n    getters,\n    actions,\n    mutations\n}"]}]}
{"remainingRequest":"/home/roddy/Desktop/WEB-APPS/realtimecharts-client/node_modules/babel-loader/lib/index.js!/home/roddy/Desktop/WEB-APPS/realtimecharts-client/node_modules/eslint-loader/index.js??ref--13-0!/home/roddy/Desktop/WEB-APPS/realtimecharts-client/src/api/AuthenticationService.js","dependencies":[{"path":"/home/roddy/Desktop/WEB-APPS/realtimecharts-client/src/api/AuthenticationService.js","mtime":1602350289715},{"path":"/home/roddy/Desktop/WEB-APPS/realtimecharts-client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/roddy/Desktop/WEB-APPS/realtimecharts-client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/roddy/Desktop/WEB-APPS/realtimecharts-client/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/roddy/Desktop/WEB-APPS/realtimecharts-client/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/roddy/Desktop/WEB-APPS/realtimecharts-client/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/roddy/Desktop/WEB-APPS/realtimecharts-client/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport axios from 'axios';\n\nvar hash = require('node_hash');\n\nvar url = 'api/authentication';\n\nvar AuthenticationService =\n/*#__PURE__*/\nfunction () {\n  function AuthenticationService() {\n    _classCallCheck(this, AuthenticationService);\n  }\n\n  _createClass(AuthenticationService, null, [{\n    key: \"Register\",\n    // Register\n    value: function Register(username, password, regToken) {\n      return new Promise(\n      /*#__PURE__*/\n      function () {\n        var _ref = _asyncToGenerator(\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee(resolve, reject) {\n          var hashed_password, res, data;\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.prev = 0;\n                  hashed_password = hash.md5(password);\n                  _context.next = 4;\n                  return axios.post(\"\".concat(url, \"/register\"), {\n                    username: username,\n                    hashed_password: hashed_password,\n                    regToken: regToken\n                  });\n\n                case 4:\n                  res = _context.sent;\n                  data = res.data;\n\n                  if (data.error) {\n                    reject(data.error);\n                  }\n\n                  resolve(data);\n                  _context.next = 13;\n                  break;\n\n                case 10:\n                  _context.prev = 10;\n                  _context.t0 = _context[\"catch\"](0);\n                  reject(_context.t0);\n\n                case 13:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[0, 10]]);\n        }));\n\n        return function (_x, _x2) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    } // Login\n\n  }, {\n    key: \"Login\",\n    value: function Login(username, password) {\n      return new Promise(\n      /*#__PURE__*/\n      function () {\n        var _ref2 = _asyncToGenerator(\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee2(resolve, reject) {\n          var hashed_password, res, data;\n          return regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  _context2.prev = 0;\n                  hashed_password = hash.md5(password);\n                  _context2.next = 4;\n                  return axios.post(\"\".concat(url, \"/login\"), {\n                    username: username,\n                    hashed_password: hashed_password\n                  });\n\n                case 4:\n                  res = _context2.sent;\n                  data = res.data;\n\n                  if (data.error) {\n                    reject(data.error);\n                  }\n\n                  resolve(data);\n                  _context2.next = 13;\n                  break;\n\n                case 10:\n                  _context2.prev = 10;\n                  _context2.t0 = _context2[\"catch\"](0);\n                  reject(_context2.t0);\n\n                case 13:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, null, [[0, 10]]);\n        }));\n\n        return function (_x3, _x4) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    } //Get User Settings\n\n  }, {\n    key: \"UserSettings\",\n    value: function UserSettings() {\n      return new Promise(\n      /*#__PURE__*/\n      function () {\n        var _ref3 = _asyncToGenerator(\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee3(resolve, reject) {\n          var res, data;\n          return regeneratorRuntime.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  _context3.prev = 0;\n                  _context3.next = 3;\n                  return axios.get(\"\".concat(url, \"/usersettings\"), {\n                    headers: {\n                      Authorization: localStorage.getItem('token')\n                    }\n                  });\n\n                case 3:\n                  res = _context3.sent;\n                  data = res.data;\n                  resolve(data);\n                  _context3.next = 11;\n                  break;\n\n                case 8:\n                  _context3.prev = 8;\n                  _context3.t0 = _context3[\"catch\"](0);\n                  reject(_context3.t0);\n\n                case 11:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, null, [[0, 8]]);\n        }));\n\n        return function (_x5, _x6) {\n          return _ref3.apply(this, arguments);\n        };\n      }());\n    }\n  }]);\n\n  return AuthenticationService;\n}();\n\nexport default AuthenticationService;",{"version":3,"sources":["/home/roddy/Desktop/WEB-APPS/realtimecharts-client/src/api/AuthenticationService.js"],"names":["axios","hash","require","url","AuthenticationService","username","password","regToken","Promise","resolve","reject","hashed_password","md5","post","res","data","error","get","headers","Authorization","localStorage","getItem"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AACA,IAAMC,IAAI,GAAGC,OAAO,CAAC,WAAD,CAApB;;AACA,IAAMC,GAAG,GAAG,oBAAZ;;IAEMC,qB;;;;;;;;;AAEF;6BACgBC,Q,EAAUC,Q,EAAUC,Q,EAAU;AAC1C,aAAO,IAAIC,OAAJ;AAAA;AAAA;AAAA;AAAA;AAAA,gCAAY,iBAAMC,OAAN,EAAeC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAELC,kBAAAA,eAFK,GAEaV,IAAI,CAACW,GAAL,CAASN,QAAT,CAFb;AAAA;AAAA,yBAGON,KAAK,CAACa,IAAN,WAAcV,GAAd,gBAA8B;AAC5CE,oBAAAA,QAAQ,EAARA,QAD4C;AAE5CM,oBAAAA,eAAe,EAAfA,eAF4C;AAG5CJ,oBAAAA,QAAQ,EAARA;AAH4C,mBAA9B,CAHP;;AAAA;AAGLO,kBAAAA,GAHK;AAQLC,kBAAAA,IARK,GAQED,GAAG,CAACC,IARN;;AASX,sBAAIA,IAAI,CAACC,KAAT,EAAgB;AACZN,oBAAAA,MAAM,CAACK,IAAI,CAACC,KAAN,CAAN;AACH;;AACDP,kBAAAA,OAAO,CAACM,IAAD,CAAP;AAZW;AAAA;;AAAA;AAAA;AAAA;AAcXL,kBAAAA,MAAM,aAAN;;AAdW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAZ;;AAAA;AAAA;AAAA;AAAA,UAAP;AAiBH,K,CAED;;;;0BACaL,Q,EAAUC,Q,EAAU;AAC7B,aAAO,IAAIE,OAAJ;AAAA;AAAA;AAAA;AAAA;AAAA,gCAAY,kBAAOC,OAAP,EAAgBC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAELC,kBAAAA,eAFK,GAEaV,IAAI,CAACW,GAAL,CAASN,QAAT,CAFb;AAAA;AAAA,yBAGON,KAAK,CAACa,IAAN,WAAcV,GAAd,aAA2B;AACzCE,oBAAAA,QAAQ,EAARA,QADyC;AAEzCM,oBAAAA,eAAe,EAAfA;AAFyC,mBAA3B,CAHP;;AAAA;AAGLG,kBAAAA,GAHK;AAOLC,kBAAAA,IAPK,GAOED,GAAG,CAACC,IAPN;;AAQX,sBAAIA,IAAI,CAACC,KAAT,EAAgB;AACZN,oBAAAA,MAAM,CAACK,IAAI,CAACC,KAAN,CAAN;AACH;;AACDP,kBAAAA,OAAO,CAACM,IAAD,CAAP;AAXW;AAAA;;AAAA;AAAA;AAAA;AAaXL,kBAAAA,MAAM,cAAN;;AAbW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAZ;;AAAA;AAAA;AAAA;AAAA,UAAP;AAgBH,K,CAED;;;;mCACsB;AAClB,aAAO,IAAIF,OAAJ;AAAA;AAAA;AAAA;AAAA;AAAA,gCAAY,kBAAOC,OAAP,EAAgBC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAEOV,KAAK,CAACiB,GAAN,WAAad,GAAb,oBAAiC;AAC/Ce,oBAAAA,OAAO,EAAG;AACNC,sBAAAA,aAAa,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB;AADT;AADqC,mBAAjC,CAFP;;AAAA;AAELP,kBAAAA,GAFK;AAOLC,kBAAAA,IAPK,GAOED,GAAG,CAACC,IAPN;AAQXN,kBAAAA,OAAO,CAACM,IAAD,CAAP;AARW;AAAA;;AAAA;AAAA;AAAA;AAUXL,kBAAAA,MAAM,cAAN;;AAVW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAZ;;AAAA;AAAA;AAAA;AAAA,UAAP;AAaH;;;;;;AAGL,eAAeN,qBAAf","sourcesContent":["import axios from 'axios';\nconst hash = require('node_hash')\nconst url = 'api/authentication'\n\nclass AuthenticationService {\n\n    // Register\n    static Register(username, password, regToken) {\n        return new Promise(async(resolve, reject)=>{\n            try {\n                const hashed_password = hash.md5(password)\n                const res = await axios.post(`${url}/register`, {\n                    username,\n                    hashed_password,\n                    regToken\n                })\n                const data = res.data\n                if (data.error) {\n                    reject(data.error)\n                }\n                resolve(data)\n            } catch (err) {\n                reject(err)\n            }\n        })\n    }\n\n    // Login\n    static Login(username, password) {\n        return new Promise(async (resolve, reject) => {  \n            try {\n                const hashed_password = hash.md5(password)\n                const res = await axios.post(`${url}/login`, {\n                    username,\n                    hashed_password\n                })\n                const data = res.data;\n                if (data.error) {\n                    reject(data.error)\n                }\n                resolve(data)\n            } catch (err) {\n                reject(err)\n            }\n        })\n    }\n\n    //Get User Settings\n    static UserSettings() {\n        return new Promise(async (resolve, reject) => {\n            try{ \n                const res = await axios.get(`${url}/usersettings`, {\n                    headers : {\n                        Authorization: localStorage.getItem('token')\n                    }\n                })\n                const data = res.data;\n                resolve(data)\n            } catch (err) {\n                reject(err)\n            }\n        })\n    }\n}\n\nexport default AuthenticationService"]}]}